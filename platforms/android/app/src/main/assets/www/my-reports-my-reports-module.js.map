{"version":3,"sources":["webpack:///./src/app/my-reports/my-reports.module.ts","webpack:///./src/app/my-reports/my-reports.page.html","webpack:///./src/app/my-reports/my-reports.page.scss","webpack:///./src/app/my-reports/my-reports.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AACV;AACS;AACJ;AACJ;AAC2B;AAEzE,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,8DAAa;QACxB,QAAQ,EAAE;YACR,EAAE,IAAI,EAAE,oBAAoB,EAAE,YAAY,EAAE,4EAA4E,EAAE;YAC1H,EAAE,IAAI,EAAE,sBAAsB,EAAE,YAAY,EAAE,kFAAkF,EAAE;SACnI;KACF;CACF,CAAC;AAcF;IAAA;IAAmC,CAAC;IAAvB,mBAAmB;QAZ/B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY,EAAC,2DAAY;gBACzB,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC7B,mEAAe,CAAC,QAAQ,CAAC,EACxB,CAAC;aACH;YACD,YAAY,EAAE,CAAC,8DAAa,CAAC;YAC7B,SAAS,EAAC,CAAC,sFAAiB,CAAC;SAC9B,CAAC;OACW,mBAAmB,CAAI;IAAD,0BAAC;CAAA;AAAJ;;;;;;;;;;;;ACjChC,+EAA+E,eAAe,iVAAiV,wCAAwC,uHAAuH,0CAA0C,gG;;;;;;;;;;;ACAxnB,iCAAiC,qCAAqC,EAAE,8BAA8B,oBAAoB,EAAE,+CAA+C,2jB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAzH;AAET;AACgC;AACR;AACkB;AACrC;AACJ;AACmB;AACX;AACS;AACX;AACQ;AAOxD;IAGE,uBACS,MAAc,EACd,iBAAoC,EACpC,IAAU,EACV,QAAkB,EAClB,aAA4B,EAC5B,WAAwB,EACxB,MAAc,EACd,UAAsB,EACtB,QAAsB,EACtB,YAA0B,EAC1B,gBAAkC;QAX3C,iBAuBC;QAtBQ,WAAM,GAAN,MAAM,CAAQ;QACd,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,SAAI,GAAJ,IAAI,CAAM;QACV,aAAQ,GAAR,QAAQ,CAAU;QAClB,kBAAa,GAAb,aAAa,CAAe;QAC5B,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QACd,eAAU,GAAV,UAAU,CAAY;QACtB,aAAQ,GAAR,QAAQ,CAAc;QACtB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,qBAAgB,GAAhB,gBAAgB,CAAkB;QAapC,SAAI,GAAG,mBAAmB,CAAC;QAXhC,gBAAgB,CAAC,UAAU,CAAC,SAAS,CAAC,cAAI;YACxC,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;QACH,gBAAgB,CAAC,aAAa,CAAC,SAAS,CAAC,cAAI;YAC3C,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACtB,CAAC,CAAC;QACF,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACzB,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;YACpD,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,qBAAqB,GAAG,UAAU,CAAC;QACnI,CAAC,CAAC;IACJ,CAAC;IAED,gCAAQ,GAAR;IACA,CAAC;IACD,uCAAe,GAAf;QACE,IAAI;YACF,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;SAC3E;QAAC,OAAO,KAAK,EAAE;SACf;IACH,CAAC;IACD,YAAY;IACL,8BAAM,GAAb;QACE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC;IAC/C,CAAC;IACM,6BAAK,GAAZ,UAAa,IAAI;QAAjB,iBAkBC;QAjBC,IAAM,QAAQ,GAAG,iBAAiB,CAAC;QACnC,IAAM,YAAY,GAAuB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QAChE,IAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;QACxB,YAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,aAAa,GAAG,GAAG,GAAG,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,KAAK;YACzE,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,UAAkB;gBAC9D,IAAI,IAAI,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACjC,IAAI,UAAU,GAAG,8BAA8B,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC1D,KAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC;gBAC5D,CAAC,EAAE,eAAK;oBACN,yBAAyB;gBAC3B,CAAC,CAAC,CAAC;YACL,CAAC,EAAE,UAAC,GAAG;gBACL,KAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;YACjC,CAAC,CAAC,CAAC;QACL,CAAC,EAAE,UAAC,KAAK;YACP,KAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;QACjC,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,gCAAQ,GAAf,UAAgB,IAAI;QAApB,iBAsBC;QArBC,KAAK,CAAC,IAAI,CAAC,MAAM,EACf;YACE,MAAM,EAAE,KAAK;SACd,CAAC,CAAC,IAAI,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC,IAAI,CAAC,cAAI;YAClC,KAAI,CAAC,aAAa,GAAG,kBAAkB,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC;YAC5D,uDAAuD;YACvD,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAI,CAAC,aAAa,EAAE,iBAAiB,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,aAAG;gBAC1F,KAAI,CAAC,UAAU,CAAC,IAAI,CAClB,GAAG,CAAC,aAAa,EAAE,EACnB,iBAAiB,CAClB,CAAC,IAAI,CAAC,UAAC,GAAG;oBACT,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;gBAC7B,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;oBACV,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;gBAC5B,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;gBACV,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;YAChC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;YACV,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;IACP,CAAC;IAlFU,aAAa;QALzB,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;YAC1B,wGAAqC;;SAEtC,CAAC;+EAKiB,sDAAM;YACK,sFAAiB;YAC9B,2DAAI;YACA,uDAAQ;YACH,8EAAa;YACf,0EAAW;YAChB,+DAAM;YACF,yEAAU;YACZ,4EAAY;YACR,4DAAY;YACR,qEAAgB;OAdhC,aAAa,CAmFzB;IAAD,oBAAC;CAAA;AAnFyB","file":"my-reports-my-reports-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MyReportsPage } from './my-reports.page';\nimport {SharedModule} from '../shared.module';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation/ngx';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyReportsPage,\n    children: [\n      { path: 'last-month-reports', loadChildren: '../last-month-reports/last-month-reports.module#LastMonthReportsPageModule' },\n      { path: 'last-quarter-reports', loadChildren: '../last-quarter-reports/last-quarter-reports.module#LastQuarterReportsPageModule' }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,SharedModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    TranslateModule.forChild({\n    })\n  ],\n  declarations: [MyReportsPage],\n  providers:[ScreenOrientation]\n})\nexport class MyReportsPageModule { }","module.exports = \"<ion-tabs>\\n    <ion-header\\n      style=\\\"position: initial; z-index: auto;\\\"\\n    >\\n      <app-header\\n        [title]=\\\"'myreports.title' | translate\\\"\\n        [showMenu]=\\\"false\\\"\\n        [showBack]=\\\"true\\\"\\n        [noBorder]=\\\"false\\\"\\n      [isGoBack]=\\\"back\\\"\\n      >\\n      </app-header>\\n      <ion-tab-bar slot=\\\"top\\\">\\n        <ion-tab-button tab=\\\"last-month-reports\\\">\\n          <ion-label>{{ \\\"myreports.last_month\\\" | translate }}</ion-label>\\n        </ion-tab-button>\\n        <ion-tab-button tab=\\\"last-quarter-reports\\\">\\n          <ion-label>{{ \\\"myreports.last_quarter\\\" | translate }}</ion-label>\\n        </ion-tab-button>\\n      </ion-tab-bar>\\n    </ion-header>\\n  </ion-tabs>\"","module.exports = \".tab-selected {\\n  border-bottom: 4px solid #b23e33; }\\n\\nion-tab-button ion-label {\\n  font-size: 16px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy92aXNod2FuYXRoYmFkaWdlci9Eb2N1bWVudHMvYXBwcy91bm5hdGktbW9iaWxlLWFwcGxpY2F0aW9uL3NsLXVubmF0aS1tb2JpbGUvc3JjL2FwcC9teS1yZXBvcnRzL215LXJlcG9ydHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksZ0NBQStCLEVBQUE7O0FBRW5DO0VBRVEsZUFBYyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbXktcmVwb3J0cy9teS1yZXBvcnRzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50YWItc2VsZWN0ZWRcbntcbiAgICBib3JkZXItYm90dG9tOjRweCBzb2xpZCAjYjIzZTMzO1xufVxuaW9uLXRhYi1idXR0b24ge1xuICAgIGlvbi1sYWJlbCB7XG4gICAgICAgIGZvbnQtc2l6ZToxNnB4O1xuICAgIH1cbn1cbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation/ngx';\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { Platform } from '@ionic/angular';\nimport { FileChooser } from '@ionic-native/file-chooser/ngx';\nimport { Base64 } from '@ionic-native/base64/ngx';\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\nimport { ToastService } from '../toast.service';\nimport { MyReportsService } from './my-reports.service';\ndeclare var cordova: any;\n@Component({\n  selector: 'app-my-reports',\n  templateUrl: './my-reports.page.html',\n  styleUrls: ['./my-reports.page.scss'],\n})\nexport class MyReportsPage implements OnInit {\n  isIos;\n  appFolderPath;\n  constructor(\n    public router: Router,\n    public screenOrientation: ScreenOrientation,\n    public file: File,\n    public platform: Platform,\n    public socialSharing: SocialSharing,\n    public fileChooser: FileChooser,\n    public base64: Base64,\n    public fileOpener: FileOpener,\n    public transfer: FileTransfer,\n    public toastService: ToastService,\n    public myReportsService: MyReportsService\n  ) {\n    myReportsService.shareEvent.subscribe(data => {\n      this.share(data);\n    });\n    myReportsService.downloadEvent.subscribe(data => {\n      this.download(data);\n    })\n    this.platform.ready().then(() => {\n      this.isIos = this.platform.is('ios') ? true : false;\n      this.appFolderPath = this.isIos ? cordova.file.documentsDirectory + 'projects' : cordova.file.externalDataDirectory + 'projects';\n    })\n  }\n  public back = \"project-view/home\";\n  ngOnInit() {\n  }\n  ionViewDidEnter() {\n    try {\n      this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);\n    } catch (error) {\n    }\n  }\n  //  Go back \n  public goBack() {\n    this.router.navigate(['/project-view/home']);\n  }\n  public share(data) {\n    const fileName = 'LastMonthReport';\n    const fileTransfer: FileTransferObject = this.transfer.create();\n    const url = data.pdfUrl;\n    fileTransfer.download(url, this.appFolderPath + '/' + fileName).then((entry) => {\n      this.base64.encodeFile(entry.nativeURL).then((base64File: string) => {\n        let data = base64File.split(',');\n        let base64Data = \"data:application/pdf;base64,\" + data[1];\n        this.socialSharing.share(\"\", fileName, base64Data, \"\").then(() => {\n        }, error => {\n          // intentially left blank\n        });\n      }, (err) => {\n        this.toastService.stopLoader();\n      });\n    }, (error) => {\n      this.toastService.stopLoader();\n    });\n  }\n\n  public download(data) {\n    fetch(data.pdfUrl,\n      {\n        method: \"GET\"\n      }).then(res => res.blob()).then(blob => {\n        this.appFolderPath = decodeURIComponent(this.appFolderPath);\n        // task.file.name = decodeURIComponent(task.file.name);\n        this.file.writeFile(this.appFolderPath, 'LastMonthReport', blob, { replace: true }).then(res => {\n          this.fileOpener.open(\n            res.toInternalURL(),\n            'application/pdf'\n          ).then((res) => {\n            console.log(res, 'sucess');\n          }).catch(err => {\n            console.log(err, 'error');\n          });\n        }).catch(err => {\n          console.log('error in catch');\n        });\n      }).catch(err => {\n        console.log('error');\n      });\n  }\n}"],"sourceRoot":""}