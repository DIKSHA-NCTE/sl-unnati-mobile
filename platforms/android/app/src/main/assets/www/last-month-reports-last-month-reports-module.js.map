{"version":3,"sources":["webpack:///./src/app/last-month-reports/last-month-reports.module.ts","webpack:///./src/app/last-month-reports/last-month-reports.page.html","webpack:///./src/app/last-month-reports/last-month-reports.page.scss","webpack:///./src/app/last-month-reports/last-month-reports.page.ts"],"names":[],"mappings":"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","file":"last-month-reports-last-month-reports-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport {TranslateModule} from '@ngx-translate/core';\nimport { LastMonthReportsPage } from './last-month-reports.page';\nimport {SharedModule} from '../shared.module';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation/ngx';\nconst routes: Routes = [\n  {\n    path: '',\n    component: LastMonthReportsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,SharedModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    TranslateModule.forChild()\n  ],\n  declarations: [LastMonthReportsPage],\n  providers:[ScreenOrientation]\n})\nexport class LastMonthReportsPageModule {}\n","module.exports = \"<ion-content class=\\\"ion-padding\\\">\\n  <div *ngIf=\\\"report\\\">\\n    <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\">\\n      <ion-fab-button size=\\\"small\\\">\\n        <ion-icon ios=\\\"ios-more\\\" md=\\\"md-more\\\"></ion-icon>\\n      </ion-fab-button>\\n      <ion-fab-list side=\\\"start\\\">\\n        <ion-fab-button color=\\\"medium\\\" (click)=\\\"getReport('share')\\\">\\n          <ion-icon ios=\\\"ios-share\\\" md=\\\"md-share\\\" style=\\\"color: #000;\\\"></ion-icon>\\n        </ion-fab-button>\\n        <ion-fab-button color=\\\"medium\\\" (click)=\\\"getReport('download')\\\">\\n          <ion-icon ios=\\\"ios-download\\\" md=\\\"md-download\\\" style=\\\"color: #000;\\\"></ion-icon>\\n        </ion-fab-button>\\n      </ion-fab-list>\\n    </ion-fab>\\n    <div *ngIf=\\\"mySchools\\\" style=\\\"width: 90%;\\\">\\n      <h5>\\n        {{mySchools[0].name }}\\n      </h5>\\n    </div>\\n    <div style=\\\" margin-top: 2.5em;\\\">\\n      <h5>\\n        {{ \\\"last_month_report.projects_cmpltd_lstmnth\\\" | translate }}\\n      </h5>\\n      {{ report.startMonth }}\\n    </div>\\n    <ion-grid style=\\\"padding: 0px;\\n    margin-top: 2.5em;\\\">\\n      <ion-row>\\n        <ion-col class=\\\"status-card task-completed-box\\\">\\n          <h3>{{ \\\"last_month_report.completed\\\" | translate }}</h3>\\n          <h1>\\n            <span *ngIf=\\\"report.projectsCompleted <= 9\\\">\\n              0{{ report.projectsCompleted }} &nbsp;</span>\\n            <span *ngIf=\\\"report.projectsCompleted >= 10\\\">\\n              {{ report.projectsCompleted }} &nbsp;</span>\\n          </h1>\\n        </ion-col>\\n        <ion-col class=\\\"status-card task-pending-box\\\">\\n          <h3>{{ \\\"last_month_report.pending\\\" | translate }}</h3>\\n          <h1>\\n            <span *ngIf=\\\"report.projectsPending <= 9\\\">\\n              0{{ report.projectsPending }} &nbsp;</span>\\n            <span *ngIf=\\\"report.projectsPending >= 10\\\">\\n              {{ report.projectsPending }} &nbsp;</span>\\n          </h1>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n    <div class=\\\"action-item\\\" (click)=\\\"viewFullReport('lastMonth')\\\">\\n      {{ \\\"last_month_report.view_full_reports\\\" | translate }}\\n    </div>\\n    <h5>\\n      {{ \\\"last_month_report.tasks_cmpltd_lstmnth\\\" | translate }}\\n    </h5>\\n    {{ report.startMonth }}\\n    <div>\\n      <highcharts-chart [Highcharts]=\\\"highcharts\\\" [options]=\\\"chartOptions\\\"\\n        style=\\\"width: 100%; height: 400px; display: block;\\\">\\n      </highcharts-chart>\\n    </div>\\n    <ion-row>\\n      <ion-col class=\\\"legend-left\\\">\\n        <span class=\\\"dot-pending\\\"> &nbsp; </span> {{'myreports.tasks_pending' | translate}} <br />\\n        <span style=\\\"font-size:24px; \\\">{{ report.tasksPending }}</span>\\n      </ion-col>\\n      <ion-col class=\\\"legend-right\\\">\\n        <span class=\\\"dot-completed\\\"> &nbsp; </span> {{'myreports.tasks_completed' | translate}} <br />\\n        <span style=\\\"font-size:24px; \\\"> {{ report.tasksCompleted }} </span>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n  <div *ngIf=\\\"showSkeleton\\\">\\n    <div class=\\\"skeleton-card-content\\\">\\n      <ion-card *ngFor=\\\"let skeleton of skeletons\\\">\\n        <ion-card-content class=\\\"skeleton-card-content\\\">\\n          <p>\\n            <ion-skeleton-text animated></ion-skeleton-text>\\n          </p>\\n          <p>\\n            <ion-skeleton-text animated></ion-skeleton-text>\\n            <ion-skeleton-text animated></ion-skeleton-text>\\n            <ion-skeleton-text animated></ion-skeleton-text>\\n          </p>\\n          <p>\\n            <ion-skeleton-text animated></ion-skeleton-text>\\n          </p>\\n        </ion-card-content>\\n      </ion-card>\\n    </div>\\n  </div>\\n</ion-content>\"","module.exports = \".status-card {\\n  border-radius: 5px;\\n  color: #fff; }\\n  .status-card span {\\n    border-bottom: 2px solid #fff;\\n    font-size: 36px; }\\n  .status-card h1 {\\n    margin-top: 10px; }\\n  .task-completed-box {\\n  background: linear-gradient(140deg, #5bd895 32%, #45673b 71%, #1a4b00 88%);\\n  margin-right: 3px; }\\n  .task-pending-box {\\n  background: linear-gradient(140deg, #d8735b 32%, #a31919 71%, #9f0303 88%);\\n  margin-left: 3px; }\\n  .action-item {\\n  color: #3b86ff;\\n  text-align: center;\\n  border-bottom: 1px solid #000;\\n  margin: 30px 0px;\\n  padding-bottom: 10px; }\\n  .dot-pending {\\n  height: 16px;\\n  width: 16px;\\n  background-color: #bfbfbf;\\n  border-radius: 50%;\\n  display: inline-block; }\\n  .dot-completed {\\n  height: 16px;\\n  width: 16px;\\n  background-color: #20ba8d;\\n  border-radius: 50%;\\n  display: inline-block; }\\n  .legend-left {\\n  text-align: center;\\n  padding: 0px;\\n  margin-left: -9%;\\n  font-weight: 500; }\\n  .legend-right {\\n  text-align: center;\\n  margin-right: -7%;\\n  padding: 0px;\\n  font-weight: 500; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy92aXNod2FuYXRoYmFkaWdlci9Eb2N1bWVudHMvYXBwcy91bm5hdGktbW9iaWxlLWFwcGxpY2F0aW9uL3NsLXVubmF0aS1tb2JpbGUvc3JjL2FwcC9sYXN0LW1vbnRoLXJlcG9ydHMvbGFzdC1tb250aC1yZXBvcnRzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtFQUNsQixXQUFXLEVBQUE7RUFGYjtJQUlJLDZCQUE2QjtJQUM3QixlQUFlLEVBQUE7RUFMbkI7SUFRSSxnQkFBZ0IsRUFBQTtFQUdwQjtFQUNFLDBFQUEwRTtFQUMxRSxpQkFBaUIsRUFBQTtFQUVuQjtFQUNFLDBFQUEwRTtFQUMxRSxnQkFBZ0IsRUFBQTtFQUVsQjtFQUNFLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsNkJBQTZCO0VBQzdCLGdCQUFnQjtFQUNoQixvQkFBb0IsRUFBQTtFQUV0QjtFQUNFLFlBQVk7RUFDWixXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQixxQkFBcUIsRUFBQTtFQUV2QjtFQUNFLFlBQVk7RUFDWixXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQixxQkFBcUIsRUFBQTtFQUV2QjtFQUNFLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGdCQUFnQixFQUFBO0VBRWxCO0VBQ0Usa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixZQUFZO0VBQ1osZ0JBQWdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9sYXN0LW1vbnRoLXJlcG9ydHMvbGFzdC1tb250aC1yZXBvcnRzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdGF0dXMtY2FyZCB7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgY29sb3I6ICNmZmY7XG4gIHNwYW4ge1xuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZmZmO1xuICAgIGZvbnQtc2l6ZTogMzZweDtcbiAgfVxuICBoMSB7XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbiAgfVxufVxuLnRhc2stY29tcGxldGVkLWJveCB7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxNDBkZWcsICM1YmQ4OTUgMzIlLCAjNDU2NzNiIDcxJSwgIzFhNGIwMCA4OCUpO1xuICBtYXJnaW4tcmlnaHQ6IDNweDtcbn1cbi50YXNrLXBlbmRpbmctYm94IHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE0MGRlZywgI2Q4NzM1YiAzMiUsICNhMzE5MTkgNzElLCAjOWYwMzAzIDg4JSk7XG4gIG1hcmdpbi1sZWZ0OiAzcHg7XG59XG4uYWN0aW9uLWl0ZW0ge1xuICBjb2xvcjogIzNiODZmZjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAwMDtcbiAgbWFyZ2luOiAzMHB4IDBweDtcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XG59XG4uZG90LXBlbmRpbmcge1xuICBoZWlnaHQ6IDE2cHg7XG4gIHdpZHRoOiAxNnB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmZiZmJmO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cbi5kb3QtY29tcGxldGVkIHtcbiAgaGVpZ2h0OiAxNnB4O1xuICB3aWR0aDogMTZweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIwYmE4ZDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG4ubGVnZW5kLWxlZnQge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDBweDtcbiAgbWFyZ2luLWxlZnQ6IC05JTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cbi5sZWdlbmQtcmlnaHQge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi1yaWdodDogLTclO1xuICBwYWRkaW5nOiAwcHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport * as Highcharts from 'highcharts';\nimport { ApiProvider } from '../api/api';\nimport { Storage } from '@ionic/storage';\nimport { ToastController } from '@ionic/angular';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation/ngx';\nimport { NetworkService } from '../network.service';\nimport { MyReportsService } from '../my-reports/my-reports.service';\nimport { ToastService } from '../toast.service';\nimport { MyschoolsService } from '../myschools/myschools.service';\n\n@Component({\n  selector: 'app-last-month-reports',\n  templateUrl: './last-month-reports.page.html',\n  styleUrls: ['./last-month-reports.page.scss'],\n})\nexport class LastMonthReportsPage implements OnInit {\n  currentMonth;\n  showChart: boolean = false;\n  report;\n  connected: any = navigator.onLine;\n  chartOptions;\n  mySchools: any;\n  appFolderPath;\n  isIos;\n  page: number = 1;\n  count: number = 5;\n  showSkeleton: boolean = false;\n  skeletons = [{}, {}, {}, {}, {}];\n  highcharts = Highcharts;\n  color = \"#20ba8d\";\n  constructor(\n    public router: Router,\n    public myReportsService: MyReportsService,\n    public toastController: ToastController,\n    public api: ApiProvider,\n    public storage: Storage,\n    public networkService: NetworkService,\n    public toastService: ToastService,\n    public mySchoolsService: MyschoolsService,\n    public screenOrientation: ScreenOrientation,\n  ) {\n    this.networkService.emit.subscribe(value => {\n      this.connected = value;\n    });\n  }\n  ionViewDidEnter() {\n    try {\n      this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);\n    } catch (error) {\n    }\n    this.getSchools();\n  }\n  ngOnInit() {\n    // this.getChart();\n    this.getData();\n\n  }\n\n  getChart() {\n    this.showChart = true;\n  }\n  public getData() {\n    if (this.connected) {\n      this.storage.get('userTokens').then(data => {\n        this.api.refershToken(data.refresh_token).subscribe((data: any) => {\n          this.showSkeleton = true;\n          let parsedData = JSON.parse(data._body);\n          if (parsedData && parsedData.access_token) {\n            let userTokens = {\n              access_token: parsedData.access_token,\n              refresh_token: parsedData.refresh_token,\n            };\n            this.storage.set('userTokens', userTokens).then(usertoken => {\n              this.myReportsService.getReports(userTokens.access_token, 'lastMonth').subscribe((data: any) => {\n                console.log(data,\"resp\");\n                this.report = data.data;\n                if (data.status != \"failed\") {\n                  this.setupChart();\n                }\n                this.showSkeleton = false;\n              })\n            }, error => {\n              this.showSkeleton = false;\n            })\n          }\n        }, error => {\n          this.showSkeleton = false;\n        })\n      })\n    } else {\n      this.toastService.errorToast('message.nerwork_connection_check');\n    }\n  }\n  public setupChart() {\n    let totalTask;\n    let completed: any;\n    if (this.report.tasksCompleted > 0 || this.report.tasksPending > 0) {\n      totalTask = this.report.tasksCompleted + this.report.tasksPending;\n      completed = (this.report.tasksCompleted / totalTask) * 100;\n      completed = completed.toFixed(0);\n    } else {\n      this.report.tasksCompleted = 0;\n      this.report.tasksPending = 0;\n      completed = 0;\n    }\n    this.chartOptions = {\n      chart: {\n        type: 'pie'\n      },\n      title: {\n        verticalAlign: 'middle',\n        floating: true,\n        text: '<b>' + completed + ' % <br>Completed</b>'\n      },\n      // xAxis: {\n      //   categories: data\n      // },\n      yAxis: {\n        min: 0,\n        title: {\n          text: ''\n        }\n      },\n      legend: {\n        enabled: false\n      }, credits: {\n        enabled: false\n      },\n      plotOptions: {\n        pie: {\n          shadow: false,\n          center: ['50%', '50%'],\n          colors: [\n            '#adafad',\n            '#20ba8d'\n          ],\n        }\n      },\n      series: [{\n        name: \"Tasks\",\n        data: [[\"Pending\", this.report.tasksPending], [\"Completed\", this.report.tasksCompleted]],\n        size: '90%',\n        innerSize: '70%',\n        showInLegend: true,\n        dataLabels: {\n          enabled: false\n        }\n      }]\n    };\n  }\n\n  public viewFullReport(value) {\n    if (navigator.onLine) {\n      this.router.navigate(['project-view/fullreports', value]);\n    } else {\n      this.toastService.errorToast('message.nerwork_connection_check');\n    }\n  }\n  // Display error Message\n  async errorToast(msg) {\n    const toast = await this.toastController.create({\n      message: msg,\n      color: 'danger',\n      duration: 2000\n    });\n    toast.present();\n  }\n  public getSchools() {\n    if (this.connected) {\n      this.mySchoolsService.getSchools(this.count, this.page).subscribe((data: any) => {\n        if (data.status != 'failed') {\n          this.mySchools = data.data;\n        }\n      }, error => { })\n    } else {\n      this.toastService.errorToast('message.nerwork_connection_check');\n    }\n  }\n\n  public getReport(type) {\n    let obj: any;\n    let obj1: any = {};\n    if (this.mySchools) {\n      this.mySchools[0].type = type;\n      this.mySchools[0].isFullReport = false;\n      this.mySchools[0].reportType = 'lastMonth';\n      obj = this.mySchools[0];\n    } else {\n      obj1.type = type;\n      obj1.isFullReport = false;\n      obj1.reportType = 'lastMonth';\n      obj1.name = '';\n      obj1.entityId = '';\n      obj = obj1;\n    }\n    this.myReportsService.getReportEvent(obj);\n  }\n}"],"sourceRoot":""}